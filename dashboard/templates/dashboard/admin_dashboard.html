{% extends 'base/base.html' %}
{% load static %}
{% block title %}
  Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
{% endblock %}
{% block links %}
  <link rel="icon" href="{% static 'dashboard/icons/dashboard.png' %}" type="image/ico/jpg" />
{% endblock %}
{% block content %}
<div class="container py-5 text-center">
  <h1 class="mb-5">ğŸ› Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø§ÛŒØª</h1>

  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card shadow-sm border-0 p-3">
        <h4>ğŸ‘¤ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h4>
        <p class="display-6">{{ total_users }}</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm border-0 p-3">
        <h4>ğŸª Ø¢Ø±Ø§ÛŒØ´Ú¯Ø§Ù‡â€ŒÙ‡Ø§</h4>
        <p class="display-6">{{ total_shops }}</p>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm border-0 p-3">
        <h4>ğŸ“… Ø±Ø²Ø±ÙˆÙ‡Ø§</h4>
        <p class="display-6">{{ total_reservations }}</p>
      </div>
    </div>
  </div>

  <form method="get" class="mb-3">
    <label for="days">Ù†Ù…Ø§ÛŒØ´ Ø±Ø²Ø±ÙˆÙ‡Ø§ÛŒ Ú†Ù†Ø¯ Ø±ÙˆØ² Ø§Ø®ÛŒØ±:</label>
    <select name="days" id="days" class="form-select w-auto d-inline-block">
      <option value="7" {% if days == 7 %}selected{% endif %}>Û· Ø±ÙˆØ²</option>
      <option value="30" {% if days == 30 %}selected{% endif %}>Û³Û° Ø±ÙˆØ²</option>
      <option value="90" {% if days == 90 %}selected{% endif %}>Û¹Û° Ø±ÙˆØ²</option>
    </select>
    <button class="btn btn-primary">Ø§Ø¹Ù…Ø§Ù„</button>
  </form>

  <div class="card p-3 shadow-sm">
    <canvas id="reservationsChart" data-labels='{{ labels|safe }}' data-values='{{ values|safe }}'></canvas>
  </div>
  <br />
  <a href="{% url 'dashboard:admin_reservations_url' %}" class="btn btn-primary">Ù…Ø¯ÛŒØ±ÛŒØª Ø±Ø²Ø±ÙˆÙ‡Ø§</a>
  <a href="{% url 'dashboard:admin_comments_url' %}" class="btn btn-primary">Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÛŒØ¯Ú¯Ø§Ù‡â€ŒÙ‡Ø§</a>
</div>
{% endblock %}
{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{% static 'dashboard/js/admin_dashboard.js' %}"></script>
{% endblock %}
